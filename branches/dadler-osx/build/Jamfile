# RGL Boost Jam v1 C++ library build-file
# (C) 2005 Daniel Adler

subproject build ;

SOURCES = 
  src/Background.cpp
  src/BBoxDeco.cpp
  src/Color.cpp
  src/FaceSet.cpp
  src/Light.cpp
  src/LineSet.cpp
  src/LineStripSet.cpp
  src/Material.cpp
  src/PointSet.cpp
  src/PrimitiveSet.cpp
  src/QuadSet.cpp
  src/Shape.cpp
  src/SphereMesh.cpp
  src/SphereSet.cpp
  src/SpriteSet.cpp
  src/String.cpp
  src/Surface.cpp
  src/TextSet.cpp
  src/Texture.cpp
  src/TriangleSet.cpp
  src/Viewpoint.cpp
  src/Disposable.cpp
  src/api.cpp
  src/device.cpp
  src/devicemanager.cpp
  src/fps.cpp
  src/geom.cpp
  src/glgui.cpp
  src/gui.cpp
  src/math.cpp
  src/pixmap.cpp
  src/render.cpp
  src/rglview.cpp
  src/scene.cpp
  src/select.cpp
  src/types.cpp
;
if $(NT) {
  SOURCES +=
    src/win32gui.cpp
    src/win32lib.cpp
  ;
  REQUIREMENTS +=
    <find-library>kernel32
    <find-library>user32
    <find-library>gdi32
    <find-library>opengl32
    <find-library>glu32
    <runtime-link>static
  ;  

} else {

  if ( $(OS) = "MACOSX" ) {
    OSX = 1 ;
  }

  SOURCES +=
    src/x11gui.cpp
    src/x11lib.cpp
  ;

  if $(OSX) {
    REQUIREMENTS += 
      <link-format>bundle
      <framework>/Library/Frameworks/R
      <include>/Library/Frameworks/R.framework/Headers
      <include>/usr/X11R6/include
      <library-path>/usr/X11R6/lib
      <find-library>X11
      <find-library>GL
    ; 
  }
  
}

dll rgl :
  $(SOURCES) : $(REQUIREMENTS)
;

stage install : <dll>rgl ;

